/*! For license information please see 63947f.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{227:function(e,t,s){"use strict";var i=s(493),n=s(0),r=s(6),l=s(7),o=s(4);window.Achievements=new class{constructor(){this._checkAchievement()}check(){this._checkAchievement()}_initSlider(){this.modal=(0,n.querySelector)(".modal"),this.modalInner=(0,n.querySelector)(this.modal,".js-achievements"),(0,o.addClass)(this.modal,"modal--wide")}_setTransformValue(e){const t=50/this.slidesCount-100/this.slidesCount*(0,i.index)(e);this.slider.style.transform="translateX(".concat(t,"%)")}_setActive(e,t){(0,o.removeClass)(e,this.activeClass),(0,o.addClass)(t,this.activeClass),this._setTransformValue(t),this.controlNext.disabled=!t.nextElementSibling,this.controlPrev.disabled=!t.previousElementSibling}_onClick(e){const t=(0,n.querySelector)(this.modalInner,".".concat(this.activeClass));let s=e.currentTarget;(0,o.hasClass)(e.currentTarget,"achievements-slider__control--prev")&&(s=t.previousElementSibling),(0,o.hasClass)(e.currentTarget,"achievements-slider__control--next")&&(s=t.nextElementSibling),s&&this._setActive(t,s)}_process(){if(this.slider=(0,n.querySelector)(this.modalInner,".achievements-slider__wrapper"),this.slides=(0,n.querySelectorAll)(this.modalInner,".achievements-slider__item"),this.slidesCount=this.slides.length,this.activeClass="achievements-slider__item--active",this.slidesCount>1){this.controlNext=(0,n.querySelector)(this.modalInner,".achievements-slider__control--next"),this.controlPrev=(0,n.querySelector)(this.modalInner,".achievements-slider__control--prev"),this.slider.style.width="".concat(50*this.slidesCount,"%"),this._setTransformValue(this.slides[0]);const e=this._onClick.bind(this);(0,l.addEventListenerAll)(this.slides,"click",e),(0,r.addEventListener)(this.controlNext,"click",e),(0,r.addEventListener)(this.controlPrev,"click",e)}(0,o.addClass)(document.body,"show-modal")}_onSuccess(e){if(e&&e.length){this._initSlider();let t=(0,n.querySelector)(this.modalInner,".modal__append-zone");t||(t=document.createElement("div"),(0,o.addClass)(t,"modal__append-zone")),t.innerHTML=e,this.modalInner.insertAdjacentElement("beforeEnd",t),this._process()}}_checkAchievement(){let e=new URL(window.location.toString());e.pathname="/achievements",e.search="get=1",fetch(e).then((e=>{if(!e.ok)throw new Error("Connection to achievements page error, code ".concat(e.status," - ").concat(e.statusText));return e.text()})).then((e=>this._onSuccess(e))).catch((()=>{}))}}},493:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.index=function(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}},5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t){(0,n.isString)(e)&&(e=(0,i.querySelectorAll)(e));return[].filter.call(e,t)},t.forEach=function(e,t){(0,n.isString)(e)&&(e=(0,i.querySelectorAll)(e));[].forEach.call(e,t)};var i=s(0),n=s(2)},7:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEventListenerAll=function(e,t,s){(0,r.isString)(e)&&(e=(0,i.querySelectorAll)(e));e&&e.length>0&&(0,n.forEach)(e,(function(e){e.addEventListener(t,(function(t){s(t,e)}))}))};var i=s(0),n=s(5),r=s(2)}}]);